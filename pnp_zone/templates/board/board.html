{% extends "base.html" %}

{% block body %}
{% load static %}
<link rel="stylesheet" href="{% static "css/hex_tiles.css" %}">

<style>
    body {
        background-color: white;
    }
    #moderator {
        position: sticky;
        background: #192734;
        padding: 1vw;
        float: right;
        width: 15vw;
        z-index: 100;
    }
    #board-view {
        height: 100vh;
        width: 100%;
        overflow: hidden;
        position: absolute;
    }
    .character {
        transition-property: left, top;
        transition-duration: 1s;
        position: absolute;
        z-index: inherit;
    }
    .character p {
        display: flex;
        justify-content: center;
        align-items: center;
        width: inherit;
        height: inherit;
        margin: 0;
        text-shadow: 2px 0 0 #000, -2px 0 0 #000, 0 2px 0 #000, 0 -2px 0 #000, 1px 1px #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000;
    }
    .field polygon {
        fill: none;
    }
    .field path {
        fill: black;
    }
</style>
<link rel="stylesheet" href="{% static "css/board.css" %}">

{% if is_moderator %}
    <div id="moderator">
        <h1>Moderator Tools</h1>
        <hr>
        <form id="new_character" onsubmit="createCharacter(); return false;">
            <h2>Create new character</h2>
            <p><label>Identifier: <input name="id" type="text"></label></p>
            <p><label>X: <input name="x" type="number"></label></p>
            <p><label>Y: <input name="y" type="number"></label></p>
            <p><label>Color: <input name="color" type="text"></label></p>
            <p><input value="New" type="submit"></p>
        </form>
        <hr>
        <div id="deleteCharacter">
            <h2>Delete a character</h2>
            <p>Drop here to delete</p>
        </div>
        <hr>
        <h2>Force page reload</h2>
        <p><button onclick="socket.send({type: 'reload'})">Reload</button></p>
    </div>
{% endif %}

<div id="board-view">
    <div id="board" class="board-element noselect">
        <img id="background" class="board-element" src="{{ room.background }}" alt="Background">
        <div id="grid" class="board-element"></div>
        <div id="characters" class="board-element"></div>
    </div>
</div>

<script src="{% static "js/socket.js" %}"></script>
<script src="{% static "js/tagFactory.js" %}"></script>
<script src="{% static "js/grid.js" %}"></script>
<script src="{% static "js/character.js" %}"></script>
<script src="{% static "js/board.js" %}"></script>
{% endblock %}