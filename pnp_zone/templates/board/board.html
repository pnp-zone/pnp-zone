{% extends "base.html" %}
{% block body %}
{% load static %}

{% include "preloader.html" %}
{% block loader %}
{% endblock %}

<link rel="stylesheet" href="{% static "css/board.css" %}">
<style>
    body {
        background-color: {{ room.defaultBackground }};
    }
</style>

<div id="context-menu"></div>

<div id="root"></div>

<script>
        document.initialData = JSON.parse({% autoescape off %}'{{ initial_data }}'{% endautoescape %});
</script>
<script src="{% static "js/board/main.js" %}" type="module"></script>
<script>
    document.ondragstart = function (event) {
        event.preventDefault();
        return false;
    };
</script>

{% if jitsi_domain %}
    <script src='https://{{ jitsi_domain }}/external_api.js'></script>
    <script>
        const domain = '{{ jitsi_domain }}';
        const options = {
            roomName: '{{ jitsi_room }}',
            width: "100%",
            height: "20vh",
            parentNode: document.getElementById("jitsi"),
        };
        const api = new JitsiMeetExternalAPI(domain, options);
    </script>
{% endif %}
{% endblock %}